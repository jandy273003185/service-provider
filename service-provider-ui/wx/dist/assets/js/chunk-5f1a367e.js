(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f1a367e"],{"1f67":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sales"},[n("van-nav-bar",{attrs:{title:"业务员管理","left-text":"返回","left-arrow":""},on:{"click-left":t.changePrepage}}),n("van-row",{staticClass:"row"},[n("van-col",{attrs:{span:"6"}},[t._v("姓名")]),n("van-col",{attrs:{span:"10"}},[t._v("账号")]),n("van-col",{attrs:{span:"5"}}),n("van-col",{attrs:{span:"3"}})],1),t._l(t.saleList,function(e,a){return n("van-row",{key:a,staticClass:"row"},[n("van-col",{attrs:{span:"6"}},[t._v(t._s(e.userName))]),n("van-col",{attrs:{span:"10"}},[t._v(t._s(e.userPhone))]),n("van-col",{attrs:{span:"5"},on:{click:function(n){return t.resetPwd(e.custId,e.id)}}},[t._v("重置密码")]),1==e.status?n("van-col",{attrs:{span:"3"},on:{click:function(n){return t.deleteSale(e.custId,e.id,e.status)}}},[t._v("冻结")]):t._e(),0==e.status?n("van-col",{attrs:{span:"3"},on:{click:function(n){return t.undeleteSale(e.custId,e.id,e.status)}}},[t._v("解冻")]):t._e()],1)}),n("van-row",{directives:[{name:"show",rawName:"v-show",value:t.adding,expression:"adding"}],staticClass:"row"},[n("van-col",{attrs:{span:"6"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inpName,expression:"inpName"}],attrs:{autofocus:"",placeholder:"请输入名字"},domProps:{value:t.inpName},on:{input:function(e){e.target.composing||(t.inpName=e.target.value)}}})]),n("van-col",{attrs:{span:"10"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inpAccount,expression:"inpAccount"}],attrs:{placeholder:"请输入手机号"},domProps:{value:t.inpAccount},on:{input:function(e){e.target.composing||(t.inpAccount=e.target.value)}}})]),n("van-col",{attrs:{span:"5"}},[n("span",{on:{click:t.saveSales}},[t._v("保存")])]),n("van-col",{attrs:{span:"3"}},[n("span",{on:{click:t.cancelAdding}},[t._v("取消")])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.adding,expression:"!adding"}],staticClass:"add",on:{click:t.addSales}},[n("van-icon",{attrs:{name:"plus"}})],1)],2)},s=[],c=(n("e17f"),n("2241")),r=(n("96cf"),n("3b8d")),i=n("943c"),o={name:"sales",components:{},computed:{},created:function(){this.getInitList()},data:function(){return{adding:!1,saleList:[],inpName:"",inpAccount:""}},methods:{getInitList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].searchSales({custId:""});case 2:e=t.sent,console.log(e),this.saleList=e.data.resultMsg;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePrepage:function(){this.$router.go(-1)},addSales:function(){this.adding=!0},cancelAdding:function(){this.adding=!1},resetPwd:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["b"].resetPwd({custId:e,id:n});case 2:a=t.sent,"1"==a.data.resultCode&&(console.log("重置密码成功"),Object(c["a"])({message:"重置密码成功"}));case 4:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteSale:function(t,e,n){var a=this;c["a"].confirm({title:"提示",message:"是否确定冻结账号"}).then(function(){i["b"].updateSales({custId:t,id:e,status:0}).then(function(t){a.getInitList(),console.log("冻结")})}).catch(function(){})},undeleteSale:function(t,e,n){var a=this;c["a"].confirm({title:"提示",message:"是否确定解冻账号"}).then(function(){console.log("1111"),i["b"].updateSales({custId:t,id:e,status:1}).then(function(t){a.getInitList(),console.log("解冻")})}).catch(function(){})},saveSales:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["b"].insertSales({userName:this.inpName,password:"123456",userPhone:this.inpAccount,custId:this.$store.state.userId,status:1});case 2:e=t.sent,console.log(e),"1"==e.data.resultCode&&(this.getInitList(),Object(c["a"])({message:"添加业务员成功"}),this.adding=!1);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},u=o,l=(n("decd"),n("2877")),d=Object(l["a"])(u,a,s,!1,null,"6272edb0",null);e["default"]=d.exports},c3bb:function(t,e,n){},decd:function(t,e,n){"use strict";var a=n("c3bb"),s=n.n(a);s.a}}]);
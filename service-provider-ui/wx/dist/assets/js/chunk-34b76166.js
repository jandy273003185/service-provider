(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34b76166"],{"48ec":function(e,a,t){"use strict";var s=t("7fe6"),r=t.n(s);r.a},"4cd0":function(e,a,t){"use strict";t("ac6a"),t("456d");var s={focusEvent:function(e,a){e.$refs[a].style.color="#333"},blurEvent:function(e,a,t){t?0==e.params[a].length?e.$refs[a].style.color="#fd5e6b":e.$refs[a].style.color="#333":0==e[a].length?e.$refs[a].style.color="#fd5e6b":e.$refs[a].style.color="#333"},validInpParams:function(e,a){var t=Object.keys(a),s=0;return t.map(function(t,r){a[t]?e.$refs[t].style.color="#333":(s++,e.$refs[t].style.color="#fd5e6b")}),s},validParams:function(e){var a=Object.keys(e),t=0;return a.map(function(a,s){e[a]||t++}),t},throttle:function(e,a){var t=null;return function(){var s=+new Date;(s-t>a||!t)&&(e.apply(this,arguments),t=s)}},debounce:function(e,a){var t,s=a||2e3,r=this,n=arguments;return function(){t&&clearTimeout(t),t=setTimeout(function(){t=null,e.apply(r,n)},s)}}};a["a"]=s},5546:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"incoming"},[t("van-nav-bar",{attrs:{title:"基本信息","left-text":"返回","left-arrow":""},on:{"click-left":e.changePrepage}}),t("Step",{attrs:{currStep:"1"}}),t("div",{staticClass:"stepInfo"},[t("form",{ref:"baseform"},[t("div",{staticClass:"row"},[t("span",{staticClass:"label",class:{active:e.clickedNext&&!e.params.merchantAccount}},[e._v("商户账号")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.merchantAccount,expression:"params.merchantAccount"}],attrs:{placeholder:"请输入手机号"},domProps:{value:e.params.merchantAccount},on:{input:function(a){a.target.composing||e.$set(e.params,"merchantAccount",a.target.value)}}})]),t("div",{staticClass:"row"},[t("span",{staticClass:"label",class:{active:e.clickedNext&&!e.params.custType}},[e._v("商户类型")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.params.custType,expression:"params.custType"}],on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){var a="_value"in e?e._value:e.value;return a});e.$set(e.params,"custType",a.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("请选择")]),t("option",{attrs:{value:"0"}},[e._v("个人")]),t("option",{attrs:{value:"1"}},[e._v("企业")])])]),t("div",{staticClass:"row"},[t("span",{staticClass:"label",class:{active:e.clickedNext&&!e.params.custName}},[e._v("商户名字")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.custName,expression:"params.custName"}],attrs:{placeholder:"请输入商户名称"},domProps:{value:e.params.custName},on:{input:function(a){a.target.composing||e.$set(e.params,"custName",a.target.value)}}})]),t("div",{staticClass:"row"},[t("span",{staticClass:"label",class:{active:e.clickedNext&&!e.params.shortName}},[e._v("商户简称")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.shortName,expression:"params.shortName"}],attrs:{placeholder:"请输入商户简称"},domProps:{value:e.params.shortName},on:{input:function(a){a.target.composing||e.$set(e.params,"shortName",a.target.value)}}})]),t("div",{staticClass:"row"},[t("span",{staticClass:"label",class:{active:e.clickedNext&&!e.params.contactPhone}},[e._v("客服号码")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.contactPhone,expression:"params.contactPhone"}],attrs:{placeholder:"请输入客服电话号码"},domProps:{value:e.params.contactPhone},on:{input:function(a){a.target.composing||e.$set(e.params,"contactPhone",a.target.value)}}})]),t("div",{staticClass:"row"},[t("span",{staticClass:"label",class:{active:e.clickedNext&&!e.params.custAdd}},[e._v("商户地址")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.province,expression:"params.province"}],attrs:{placeholder:"请输入商户地址"},domProps:{value:e.params.province},on:{input:function(a){a.target.composing||e.$set(e.params,"province",a.target.value)}}})]),t("div",{staticClass:"row"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.custAdd,expression:"params.custAdd"}],attrs:{placeholder:"请输入详细地址"},domProps:{value:e.params.custAdd},on:{input:function(a){a.target.composing||e.$set(e.params,"custAdd",a.target.value)}}})]),t("div",{staticClass:"row-img"},[t("div",{staticClass:"stit",class:{active:e.clickedNext&&!e.params.businessLicense}},[e._v("\n          营业执照照片\n          "),t("span",[e._v("(必须)")])]),t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.businessLicenseUrl,expression:"!businessLicenseUrl"}],attrs:{name:"businessLicense","after-read":e.afterReadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("上传营业执照")])],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.businessLicenseUrl,expression:"params.businessLicenseUrl"}],attrs:{src:e.params.businessLicenseUrl}})],1),t("div",{staticClass:"row"},[t("span",{staticClass:"label"},[e._v("营业执照编号")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.businessLicense,expression:"params.businessLicense"}],attrs:{placeholder:"请输入编号"},domProps:{value:e.params.businessLicense},on:{input:function(a){a.target.composing||e.$set(e.params,"businessLicense",a.target.value)}}})]),t("div",{staticClass:"row"},[t("span",{staticClass:"label"},[e._v("营业执照有效期")]),t("div",{staticClass:"data"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.businessTermStart,expression:"params.businessTermStart"}],attrs:{placeholder:"日期选择"},domProps:{value:e.params.businessTermStart},on:{focus:e.datepickerVisiable,input:function(a){a.target.composing||e.$set(e.params,"businessTermStart",a.target.value)}}}),e._v(" -\n          "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.businessTermEnd,expression:"params.businessTermEnd"}],attrs:{placeholder:"日期选择"},domProps:{value:e.params.businessTermEnd},on:{input:function(a){a.target.composing||e.$set(e.params,"businessTermEnd",a.target.value)}}}),t("van-checkbox",{staticClass:"longterm",model:{value:e.longterm,callback:function(a){e.longterm=a},expression:"longterm"}},[e._v("长期")])],1)]),t("van-datetime-picker",{directives:[{name:"show",rawName:"v-show",value:e.showDatepicker,expression:"showDatepicker"}],staticClass:"datepicker",attrs:{type:"year-month","min-date":e.minDate},on:{confirm:e.confirmDate,cancel:e.datepickerHide}}),t("div",{staticClass:"row-img"},[t("div",{staticClass:"stit",class:{active:e.clickedNext&&!e.params.shopFrontDesk}},[e._v("\n          门头照照片\n          "),t("span",[e._v("(必须)")])]),t("div",{on:{click:function(a){return e.beforeUploadImg("shopFrontDesk")}}},[t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.params.shopFrontDesk,expression:"!params.shopFrontDesk"}],attrs:{"after-read":e.uploadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("上传门头照照片")])],1)],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.shopFrontDesk,expression:"params.shopFrontDesk"}],attrs:{src:e.params.shopFrontDesk}})]),t("div",{staticClass:"row-img"},[t("div",{staticClass:"stit",class:{active:e.clickedNext&&!e.params.shopInterior}},[e._v("\n          店内照\n          "),t("span",[e._v("(必须)")])]),t("div",{on:{click:function(a){return e.beforeUploadImg("shopInterior")}}},[t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.params.shopInterior,expression:"!params.shopInterior"}],ref:"shopInterior",attrs:{"after-read":e.uploadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("上传店内照片")])],1)],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.shopInterior,expression:"params.shopInterior"}],attrs:{src:e.params.shopInterior}})]),t("div",{staticClass:"row-img"},[t("div",{staticClass:"stit",class:{active:e.clickedNext&&!e.params.specialBusiness}},[e._v("特殊行业资质照")]),t("div",{on:{click:function(a){return e.beforeUploadImg("specialBusiness")}}},[t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.params.specialBusiness,expression:"!params.specialBusiness"}],attrs:{"after-read":e.uploadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("上传特殊行业资质照")])],1)],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.specialBusiness,expression:"params.specialBusiness"}],attrs:{src:e.params.specialBusiness}})]),t("div",{staticClass:"row-img"},[t("div",{staticClass:"stit",class:{active:e.clickedNext&&!e.params.electronicSignaturePhoto}},[e._v("电子签名照")]),t("div",{on:{click:function(a){return e.beforeUploadImg("electronicSignaturePhoto")}}},[t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.params.electronicSignaturePhoto,expression:"!params.electronicSignaturePhoto"}],attrs:{"after-read":e.uploadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("上传电子签名照")])],1)],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.electronicSignaturePhoto,expression:"params.electronicSignaturePhoto"}],attrs:{src:e.params.electronicSignaturePhoto}})]),t("div",{staticClass:"row-img"},[t("div",{staticClass:"stit",class:{active:e.clickedNext&&!e.params.otherPhoto1}},[e._v("其他资料照")]),t("div",{on:{click:function(a){return e.beforeUploadImg("otherPhoto1")}}},[t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.params.otherPhoto1,expression:"!params.otherPhoto1"}],attrs:{"after-read":e.uploadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("其他资料照")])],1)],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.otherPhoto1,expression:"params.otherPhoto1"}],attrs:{src:e.params.otherPhoto1}}),t("div",{on:{click:function(a){return e.beforeUploadImg("otherPhoto2")}}},[t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:!e.params.otherPhoto2,expression:"!params.otherPhoto2"}],attrs:{"after-read":e.uploadImg}},[t("van-button",{attrs:{icon:"photo",type:"primary"}},[e._v("其他资料照")])],1)],1),t("img",{directives:[{name:"show",rawName:"v-show",value:e.params.otherPhoto2,expression:"params.otherPhoto2"}],attrs:{src:e.params.otherPhoto2}})]),t("div",{staticClass:"btn",on:{click:e.getNextStep}},[e._v("下一步")])],1)])],1)},r=[],n=(t("8e6e"),t("ac6a"),t("456d"),t("96cf"),t("3b8d")),o=t("bd86"),i=t("4cd0"),c=t("9de5"),p=t("2f62"),u=t("943c");function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,s)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(t,!0).forEach(function(a){Object(o["a"])(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var v={name:"incoming",components:{Step:function(){return t.e("chunk-13b7c920").then(t.bind(null,"3e8a"))}},computed:m({},Object(p["c"])({incoming:function(e){return e.incoming}})),created:function(){this.params=Object.assign(this.params,this.incoming)},data:function(){return{uploadType:"",clickedNext:!1,longterm:!1,minDate:new Date,showDatepicker:!1,businessLicenseUrl:"",params:{merchantAccount:"",custType:"",custName:"",shortName:"",contactPhone:"",province:"江西省",city:"赣州市",country:"章贡区",custAdd:"经济开发区",businessLicense:"",businessTermStart:"",businessTermEnd:"",shopFrontDesk:"",shopInterior:"",specialBusiness:"",electronicSignaturePhoto:"",otherPhoto1:"",otherPhoto2:""},custScanCopys:[]}},methods:{changePrepage:function(){this.$router.go(-1)},getNextStep:function(){this.clickedNext=!0;var e=i["a"].validParams(this.params);if(0==e){var a=Object.assign(this.incoming,this.params);this.$store.commit("setincoming",a),console.log(this.custScanCopys),this.$store.commit("custScanCopys",this.custScanCopys),this.$router.push("legalInfo")}},afterReadImg:function(e){this.getImgInfo(e.content)},getImgInfo:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var t,s,r,n,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={str:a,flag:"businessPhoto"},e.next=3,u["b"].getImgInfo(t);case 3:s=e.sent,s.data.uri+"/"+s.data.url,r=s.data.businessLicense,n=s.data.businessTermEnd,o=s.data.businessTermStart,this.params.businessLicense=r,this.params.businessTermEnd=n,this.params.businessTermStart=o,this.businessLicenseUrl=s.data.uri+s.data.url,i={certifyType:"02",scanCopyPath:s.data.imagePath,certifyNo:""},this.custScanCopys.push(i);case 14:case"end":return e.stop()}},e,this)}));function a(a){return e.apply(this,arguments)}return a}(),beforeUploadImg:function(e){this.uploadType=e},uploadImg:function(e){c["a"].uploadImgRequest(this,e.file)},datepickerVisiable:function(){this.showDatepicker=!0},datepickerHide:function(){this.showDatepicker=!1},confirmDate:function(e){this.showDatepicker=!1,console.log(e)}}},d=v,h=(t("48ec"),t("2877")),f=Object(h["a"])(d,s,r,!1,null,"42a04366",null);a["default"]=f.exports},"7fe6":function(e,a,t){},"9de5":function(e,a,t){"use strict";t("96cf");var s=t("3b8d"),r=t("943c"),n={uploadImgRequest:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(a,t){var s,n,o,i,c,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("file",t),e.next=4,r["b"].uploadImg(s);case 4:if(n=e.sent,"200"!=n.data.resultCode){e.next=28;break}o=JSON.parse(n.data.resultMsg),i=o.uri+""+o.url,a.params[a.uploadType]=i,c="",e.t0=a.uploadType,e.next="shopFrontDesk"===e.t0?13:"shopInterior"===e.t0?15:"specialBusiness"===e.t0?17:"electronicSignaturePhoto"===e.t0?19:"otherPhoto1"===e.t0?21:"otherPhoto2"===e.t0?23:25;break;case 13:return c="20",e.abrupt("break",26);case 15:return c="18",e.abrupt("break",26);case 17:return c="11",e.abrupt("break",26);case 19:return c="12",e.abrupt("break",26);case 21:return c="23",e.abrupt("break",26);case 23:return c="24",e.abrupt("break",26);case 25:c="";case 26:p={certifyType:c,scanCopyPath:o.imagePath,certifyNo:""},a.custScanCopys.push(p);case 28:case"end":return e.stop()}},e)}));function a(a,t){return e.apply(this,arguments)}return a}()};a["a"]=n}}]);